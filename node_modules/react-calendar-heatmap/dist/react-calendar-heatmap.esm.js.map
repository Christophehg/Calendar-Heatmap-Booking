{"version":3,"file":"react-calendar-heatmap.esm.js","sources":["../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../src/constants.js","../src/helpers.js","../src/index.js"],"sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","export const MILLISECONDS_IN_ONE_DAY = 24 * 60 * 60 * 1000;\n\nexport const DAYS_IN_WEEK = 7;\n\nexport const MONTH_LABELS = [\n  'Jan',\n  'Feb',\n  'Mar',\n  'Apr',\n  'May',\n  'Jun',\n  'Jul',\n  'Aug',\n  'Sep',\n  'Oct',\n  'Nov',\n  'Dec',\n];\n\nexport const DAY_LABELS = ['', 'Mon', '', 'Wed', '', 'Fri', ''];\n","// returns a new date shifted a certain number of days (can be negative)\nexport function shiftDate(date, numDays) {\n  const newDate = new Date(date);\n  newDate.setDate(newDate.getDate() + numDays);\n  return newDate;\n}\n\nexport function getBeginningTimeForDate(date) {\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate());\n}\n\n// obj can be a parseable string, a millisecond timestamp, or a Date object\nexport function convertToDate(obj) {\n  return obj instanceof Date ? obj : new Date(obj);\n}\n\nexport function dateNDaysAgo(numDaysAgo) {\n  return shiftDate(new Date(), -numDaysAgo);\n}\n\nexport function getRange(count) {\n  return Array.from({ length: count }, (_, i) => i);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { DAYS_IN_WEEK, MILLISECONDS_IN_ONE_DAY, DAY_LABELS, MONTH_LABELS } from './constants';\nimport {\n  dateNDaysAgo,\n  shiftDate,\n  getBeginningTimeForDate,\n  convertToDate,\n  getRange,\n} from './helpers';\n\nconst SQUARE_SIZE = 10;\nconst MONTH_LABEL_GUTTER_SIZE = 4;\nconst CSS_PSEDUO_NAMESPACE = 'react-calendar-heatmap-';\n\nclass CalendarHeatmap extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.latestProps = props;\n\n    this.state = {\n      valueCache: this.getValueCache(this.latestProps.values),\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.latestProps = nextProps;\n\n    this.setState({\n      valueCache: this.getValueCache(this.latestProps.values),\n    });\n  }\n\n  getDateDifferenceInDays() {\n    const { startDate, numDays } = this.latestProps;\n    if (numDays) {\n      // eslint-disable-next-line no-console\n      console.warn(\n        'numDays is a deprecated prop. It will be removed in the next release. Consider using the startDate prop instead.',\n      );\n      return numDays;\n    }\n    const timeDiff = this.getEndDate() - convertToDate(startDate);\n    return Math.ceil(timeDiff / MILLISECONDS_IN_ONE_DAY);\n  }\n\n  getSquareSizeWithGutter() {\n    return SQUARE_SIZE + this.latestProps.gutterSize;\n  }\n\n  getMonthLabelSize() {\n    if (!this.latestProps.showMonthLabels) {\n      return 0;\n    } else if (this.latestProps.horizontal) {\n      return SQUARE_SIZE + MONTH_LABEL_GUTTER_SIZE;\n    }\n    return 2 * (SQUARE_SIZE + MONTH_LABEL_GUTTER_SIZE);\n  }\n\n  getWeekdayLabelSize() {\n    if (!this.latestProps.showWeekdayLabels) {\n      return 0;\n    } else if (this.latestProps.horizontal) {\n      return 30;\n    }\n    return SQUARE_SIZE * 1.5;\n  }\n\n  getStartDate() {\n    return shiftDate(this.getEndDate(), -this.getDateDifferenceInDays() + 1); // +1 because endDate is inclusive\n  }\n\n  getEndDate() {\n    return getBeginningTimeForDate(convertToDate(this.latestProps.endDate));\n  }\n\n  getStartDateWithEmptyDays() {\n    return shiftDate(this.getStartDate(), -this.getNumEmptyDaysAtStart());\n  }\n\n  getNumEmptyDaysAtStart() {\n    return this.getStartDate().getDay();\n  }\n\n  getNumEmptyDaysAtEnd() {\n    return DAYS_IN_WEEK - 1 - this.getEndDate().getDay();\n  }\n\n  getWeekCount() {\n    const numDaysRoundedToWeek =\n      this.getDateDifferenceInDays() + this.getNumEmptyDaysAtStart() + this.getNumEmptyDaysAtEnd();\n    return Math.ceil(numDaysRoundedToWeek / DAYS_IN_WEEK);\n  }\n\n  getWeekWidth() {\n    return DAYS_IN_WEEK * this.getSquareSizeWithGutter();\n  }\n\n  getWidth() {\n    return (\n      this.getWeekCount() * this.getSquareSizeWithGutter() -\n      (this.latestProps.gutterSize - this.getWeekdayLabelSize())\n    );\n  }\n\n  getHeight() {\n    return (\n      this.getWeekWidth() +\n      (this.getMonthLabelSize() - this.latestProps.gutterSize) +\n      this.getWeekdayLabelSize()\n    );\n  }\n\n  getValueCache(values) {\n    return values.reduce((memo, value) => {\n      const date = convertToDate(value.date);\n      const index = Math.floor((date - this.getStartDateWithEmptyDays()) / MILLISECONDS_IN_ONE_DAY);\n      // eslint-disable-next-line no-param-reassign\n      memo[index] = {\n        value,\n        className: this.latestProps.classForValue(value),\n        title: this.latestProps.titleForValue ? this.latestProps.titleForValue(value) : null,\n        tooltipDataAttrs: this.getTooltipDataAttrsForValue(value),\n      };\n      return memo;\n    }, {});\n  }\n\n  getValueForIndex(index) {\n    if (this.state.valueCache[index]) {\n      return this.state.valueCache[index].value;\n    }\n    return null;\n  }\n\n  getClassNameForIndex(index) {\n    if (this.state.valueCache[index]) {\n      return this.state.valueCache[index].className;\n    }\n    return this.latestProps.classForValue(null);\n  }\n\n  getTitleForIndex(index) {\n    if (this.state.valueCache[index]) {\n      return this.state.valueCache[index].title;\n    }\n    return this.latestProps.titleForValue ? this.latestProps.titleForValue(null) : null;\n  }\n\n  getTooltipDataAttrsForIndex(index) {\n    if (this.state.valueCache[index]) {\n      return this.state.valueCache[index].tooltipDataAttrs;\n    }\n    return this.getTooltipDataAttrsForValue({ date: null, count: null });\n  }\n\n  getTooltipDataAttrsForValue(value) {\n    const { tooltipDataAttrs } = this.latestProps;\n\n    if (typeof tooltipDataAttrs === 'function') {\n      return tooltipDataAttrs(value);\n    }\n    return tooltipDataAttrs;\n  }\n\n  getTransformForWeek(weekIndex) {\n    if (this.latestProps.horizontal) {\n      return `translate(${weekIndex * this.getSquareSizeWithGutter()}, 0)`;\n    }\n    return `translate(0, ${weekIndex * this.getSquareSizeWithGutter()})`;\n  }\n\n  getTransformForWeekdayLabels() {\n    if (this.latestProps.horizontal) {\n      return `translate(${SQUARE_SIZE}, ${this.getMonthLabelSize()})`;\n    }\n    return null;\n  }\n\n  getTransformForMonthLabels() {\n    if (this.latestProps.horizontal) {\n      return `translate(${this.getWeekdayLabelSize()}, 0)`;\n    }\n    return `translate(${this.getWeekWidth() +\n      MONTH_LABEL_GUTTER_SIZE}, ${this.getWeekdayLabelSize()})`;\n  }\n\n  getTransformForAllWeeks() {\n    if (this.latestProps.horizontal) {\n      return `translate(${this.getWeekdayLabelSize()}, ${this.getMonthLabelSize()})`;\n    }\n    return `translate(0, ${this.getWeekdayLabelSize()})`;\n  }\n\n  getViewBox() {\n    if (this.latestProps.horizontal) {\n      return `0 0 ${this.getWidth()} ${this.getHeight()}`;\n    }\n    return `0 0 ${this.getHeight()} ${this.getWidth()}`;\n  }\n\n  getSquareCoordinates(dayIndex) {\n    if (this.latestProps.horizontal) {\n      return [0, dayIndex * this.getSquareSizeWithGutter()];\n    }\n    return [dayIndex * this.getSquareSizeWithGutter(), 0];\n  }\n\n  getWeekdayLabelCoordinates(dayIndex) {\n    if (this.latestProps.horizontal) {\n      return [0, (dayIndex + 1) * SQUARE_SIZE + dayIndex * this.latestProps.gutterSize];\n    }\n    return [dayIndex * SQUARE_SIZE + dayIndex * this.latestProps.gutterSize, SQUARE_SIZE];\n  }\n\n  getMonthLabelCoordinates(weekIndex) {\n    if (this.latestProps.horizontal) {\n      return [\n        weekIndex * this.getSquareSizeWithGutter(),\n        this.getMonthLabelSize() - MONTH_LABEL_GUTTER_SIZE,\n      ];\n    }\n    const verticalOffset = -2;\n    return [0, (weekIndex + 1) * this.getSquareSizeWithGutter() + verticalOffset];\n  }\n\n  handleClick(value) {\n    if (this.latestProps.onClick) {\n      this.latestProps.onClick(value);\n    }\n  }\n\n  handleMouseOver(e, value) {\n    if (this.latestProps.onMouseOver) {\n      this.latestProps.onMouseOver(e, value);\n    }\n  }\n\n  handleMouseLeave(e, value) {\n    if (this.latestProps.onMouseLeave) {\n      this.latestProps.onMouseLeave(e, value);\n    }\n  }\n\n  renderSquare(dayIndex, index) {\n    const indexOutOfRange =\n      index < this.getNumEmptyDaysAtStart() ||\n      index >= this.getNumEmptyDaysAtStart() + this.getDateDifferenceInDays();\n    if (indexOutOfRange && !this.latestProps.showOutOfRangeDays) {\n      return null;\n    }\n    const [x, y] = this.getSquareCoordinates(dayIndex);\n    const value = this.getValueForIndex(index);\n    const rect = (\n      // eslint-disable-next-line jsx-a11y/mouse-events-have-key-events\n      <rect\n        key={index}\n        width={SQUARE_SIZE}\n        height={SQUARE_SIZE}\n        x={x}\n        y={y}\n        className={this.getClassNameForIndex(index)}\n        onClick={() => this.handleClick(value)}\n        onMouseOver={(e) => this.handleMouseOver(e, value)}\n        onMouseLeave={(e) => this.handleMouseLeave(e, value)}\n        {...this.getTooltipDataAttrsForIndex(index)}\n      >\n        <title>{this.getTitleForIndex(index)}</title>\n      </rect>\n    );\n    const { transformDayElement } = this.latestProps;\n    return transformDayElement ? transformDayElement(rect, value, index) : rect;\n  }\n\n  renderWeek(weekIndex) {\n    return (\n      <g\n        key={weekIndex}\n        transform={this.getTransformForWeek(weekIndex)}\n        className={`${CSS_PSEDUO_NAMESPACE}week`}\n      >\n        {getRange(DAYS_IN_WEEK).map((dayIndex) =>\n          this.renderSquare(dayIndex, weekIndex * DAYS_IN_WEEK + dayIndex),\n        )}\n      </g>\n    );\n  }\n\n  renderAllWeeks() {\n    return getRange(this.getWeekCount()).map((weekIndex) => this.renderWeek(weekIndex));\n  }\n\n  renderMonthLabels() {\n    if (!this.latestProps.showMonthLabels) {\n      return null;\n    }\n    const weekRange = getRange(this.getWeekCount() - 1); // don't render for last week, because label will be cut off\n    return weekRange.map((weekIndex) => {\n      const endOfWeek = shiftDate(this.getStartDateWithEmptyDays(), (weekIndex + 1) * DAYS_IN_WEEK);\n      const [x, y] = this.getMonthLabelCoordinates(weekIndex);\n      return endOfWeek.getDate() >= 1 && endOfWeek.getDate() <= DAYS_IN_WEEK ? (\n        <text key={weekIndex} x={x} y={y} className={`${CSS_PSEDUO_NAMESPACE}month-label`}>\n          {this.latestProps.monthLabels[endOfWeek.getMonth()]}\n        </text>\n      ) : null;\n    });\n  }\n\n  renderWeekdayLabels() {\n    if (!this.latestProps.showWeekdayLabels) {\n      return null;\n    }\n    return this.latestProps.weekdayLabels.map((weekdayLabel, dayIndex) => {\n      const [x, y] = this.getWeekdayLabelCoordinates(dayIndex);\n      const cssClasses = `${\n        this.latestProps.horizontal ? '' : `${CSS_PSEDUO_NAMESPACE}small-text`\n      } ${CSS_PSEDUO_NAMESPACE}weekday-label`;\n      // eslint-disable-next-line no-bitwise\n      return dayIndex & 1 ? (\n        <text key={`${x}${y}`} x={x} y={y} className={cssClasses}>\n          {weekdayLabel}\n        </text>\n      ) : null;\n    });\n  }\n\n  render() {\n    return (\n      <svg className=\"react-calendar-heatmap\" viewBox={this.getViewBox()}>\n        <g\n          transform={this.getTransformForMonthLabels()}\n          className={`${CSS_PSEDUO_NAMESPACE}month-labels`}\n        >\n          {this.renderMonthLabels()}\n        </g>\n        <g\n          transform={this.getTransformForAllWeeks()}\n          className={`${CSS_PSEDUO_NAMESPACE}all-weeks`}\n        >\n          {this.renderAllWeeks()}\n        </g>\n        <g\n          transform={this.getTransformForWeekdayLabels()}\n          className={`${CSS_PSEDUO_NAMESPACE}weekday-labels`}\n        >\n          {this.renderWeekdayLabels()}\n        </g>\n      </svg>\n    );\n  }\n}\n\nCalendarHeatmap.propTypes = {\n  values: PropTypes.arrayOf(\n    PropTypes.shape({\n      date: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)])\n        .isRequired,\n    }).isRequired,\n  ).isRequired, // array of objects with date and arbitrary metadata\n  numDays: PropTypes.number, // number of days back from endDate to show\n  startDate: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)]), // start of date range\n  endDate: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.instanceOf(Date)]), // end of date range\n  gutterSize: PropTypes.number, // size of space between squares\n  horizontal: PropTypes.bool, // whether to orient horizontally or vertically\n  showMonthLabels: PropTypes.bool, // whether to show month labels\n  showWeekdayLabels: PropTypes.bool, // whether to show weekday labels\n  showOutOfRangeDays: PropTypes.bool, // whether to render squares for extra days in week after endDate, and before start date\n  tooltipDataAttrs: PropTypes.oneOfType([PropTypes.object, PropTypes.func]), // data attributes to add to square for setting 3rd party tooltips, e.g. { 'data-toggle': 'tooltip' } for bootstrap tooltips\n  titleForValue: PropTypes.func, // function which returns title text for value\n  classForValue: PropTypes.func, // function which returns html class for value\n  monthLabels: PropTypes.arrayOf(PropTypes.string), // An array with 12 strings representing the text from janurary to december\n  weekdayLabels: PropTypes.arrayOf(PropTypes.string), // An array with 7 strings representing the text from Sun to Sat\n  onClick: PropTypes.func, // callback function when a square is clicked\n  onMouseOver: PropTypes.func, // callback function when mouse pointer is over a square\n  onMouseLeave: PropTypes.func, // callback function when mouse pointer is left a square\n  transformDayElement: PropTypes.func, // function to further transform the svg element for a single day\n};\n\nCalendarHeatmap.defaultProps = {\n  numDays: null,\n  startDate: dateNDaysAgo(200),\n  endDate: new Date(),\n  gutterSize: 1,\n  horizontal: true,\n  showMonthLabels: true,\n  showWeekdayLabels: false,\n  showOutOfRangeDays: false,\n  tooltipDataAttrs: null,\n  titleForValue: null,\n  classForValue: (value) => (value ? 'color-filled' : 'color-empty'),\n  monthLabels: MONTH_LABELS,\n  weekdayLabels: DAY_LABELS,\n  onClick: null,\n  onMouseOver: null,\n  onMouseLeave: null,\n  transformDayElement: null,\n};\n\nexport default CalendarHeatmap;\n"],"names":["ReactPropTypesSecret","require$$0","MILLISECONDS_IN_ONE_DAY","DAYS_IN_WEEK","MONTH_LABELS","DAY_LABELS","shiftDate","date","numDays","newDate","Date","setDate","getDate","getBeginningTimeForDate","getFullYear","getMonth","convertToDate","obj","dateNDaysAgo","numDaysAgo","getRange","count","Array","from","length","_","i","SQUARE_SIZE","MONTH_LABEL_GUTTER_SIZE","CSS_PSEDUO_NAMESPACE","CalendarHeatmap","props","latestProps","state","getValueCache","values","nextProps","setState","startDate","warn","timeDiff","getEndDate","Math","ceil","gutterSize","showMonthLabels","horizontal","showWeekdayLabels","getDateDifferenceInDays","endDate","getStartDate","getNumEmptyDaysAtStart","getDay","numDaysRoundedToWeek","getNumEmptyDaysAtEnd","getSquareSizeWithGutter","getWeekCount","getWeekdayLabelSize","getWeekWidth","getMonthLabelSize","reduce","memo","value","index","floor","getStartDateWithEmptyDays","classForValue","titleForValue","getTooltipDataAttrsForValue","valueCache","className","title","tooltipDataAttrs","weekIndex","getWidth","getHeight","dayIndex","verticalOffset","onClick","e","onMouseOver","onMouseLeave","indexOutOfRange","showOutOfRangeDays","getSquareCoordinates","x","y","getValueForIndex","rect","getClassNameForIndex","handleClick","handleMouseOver","handleMouseLeave","getTooltipDataAttrsForIndex","getTitleForIndex","transformDayElement","getTransformForWeek","map","renderSquare","renderWeek","weekRange","endOfWeek","getMonthLabelCoordinates","monthLabels","weekdayLabels","weekdayLabel","getWeekdayLabelCoordinates","cssClasses","getViewBox","getTransformForMonthLabels","renderMonthLabels","getTransformForAllWeeks","renderAllWeeks","getTransformForWeekdayLabels","renderWeekdayLabels","React","Component","propTypes","PropTypes","arrayOf","shape","oneOfType","string","number","instanceOf","isRequired","bool","object","func","defaultProps"],"mappings":"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"}